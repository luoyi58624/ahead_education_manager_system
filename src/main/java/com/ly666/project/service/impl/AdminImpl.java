package com.ly666.project.service.impl;import com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;import com.ly666.project.entity.Admin;import com.ly666.project.mapper.AdminMapper;import com.ly666.project.service.IAdminService;import com.ly666.project.util.SecurityUtil;import lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Service;/** * @author ：luoyi * @date ：Created in 2019/5/28 20:28 * @desc : {网站管理员服务实现类} */@Slf4j@Servicepublic class AdminImpl extends ServiceImpl<AdminMapper, Admin> implements IAdminService {	private AdminMapper adminMapper;	public AdminImpl(final AdminMapper adminMapper) {		this.adminMapper = adminMapper;	}	@Override	public boolean isExistEmail(final String email) {		QueryWrapper<Admin> qw = new QueryWrapper<>();		qw.lambda().eq(Admin::getAdminEamil,email);		return adminMapper.selectOne(qw)!=null;	}	public boolean adminRegister(Admin admin){		log.debug("======用户："+ admin.getAdminName()+"---》注册========");		if (isExistEmail(admin.getAdminEamil())){			log.debug("======用户："+ admin.getAdminName()+"---》邮箱已存在，注册失败========");			return false;		}		String password = SecurityUtil.generaPassword(admin.getAdminPassword(), admin.getAdminName() + admin.getAdminEamil());		admin.setAdminPassword(password);		log.debug("======用户："+ admin.getAdminName()+"---》注册成功========");		return save(admin);	}}