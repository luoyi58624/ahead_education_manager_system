package com.ly666.ahead.controller.admin;import com.ly666.ahead.entity.AnthortyInfo;import com.ly666.ahead.global.defaultValue.GlobalProperties;import com.ly666.ahead.model.JsonResponse;import com.ly666.ahead.util.RedisUtil;import lombok.extern.slf4j.Slf4j;import org.apache.shiro.SecurityUtils;import org.apache.shiro.authz.annotation.Logical;import org.apache.shiro.authz.annotation.RequiresRoles;import org.apache.shiro.subject.Subject;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import java.util.List;/** * @author ：luoyi * @date ：Created in 2019/6/5 8:38 * @desc : {} */@Controller@Slf4j@RequestMapping("/admin/main")public class MainController {	private final RedisUtil redisUtil;	public MainController(final RedisUtil redisUtil) {		this.redisUtil = redisUtil;	}	@SuppressWarnings("unchecked")	@GetMapping("/getMenu")	@RequiresRoles(value = {"超级管理员","教务人员","班主任","任课教师","学工"},logical = Logical.OR)	@ResponseBody	public JsonResponse getMenu(){		Subject subject = SecurityUtils.getSubject();		Object principal = subject.getPrincipal();		log.debug(principal+"获取菜单信息");		List<AnthortyInfo> o = (List<AnthortyInfo>)redisUtil.get(GlobalProperties.REDIS_PREFIX_USER_AUTH + principal);		System.out.println(o);		return null;	}}